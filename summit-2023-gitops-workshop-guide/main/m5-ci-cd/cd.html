<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Observing the Continuous Deployment (CD) Process :: Summit 2023 - GitOps Workshop Guide</title>
    <link rel="prev" href="ci.html">
    <meta name="generator" content="Antora 3.1.2">
    <link rel="stylesheet" href="../../../_/css/site.css">
<link rel="icon" href="../../../_/img/favicon.ico" type="image/x-icon">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body class="article">
<header class="header">
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function () {
      const urlParams = new URLSearchParams(window.location.search);
      const userId = urlParams.get('USERID');
      const subDomain = urlParams.get('SUBDOMAIN');
      const apiUrl = urlParams.get('APIURL');
      if (userId) {
        showUserId( userId );
      }
      else {
        showUserIdForm();
      }
    } );


    function showUserId( userId ) {
      document.getElementById('navbar-form-empty').style.display = "none";
      document.getElementById('navbar-form-filled').style.display = "flex";
      document.getElementById('username').textContent = userId;
      document.getElementById('subDomain').value = subDomain;
      document.getElementById('apiUrl').value = apiUrl;

    }

    function showUserIdForm( userId ) {
      document.getElementById('navbar-form-empty').style.display = "flex";
      document.getElementById('navbar-form-filled').style.display = "none";
    }

    function goWithUserId() {
      elUserIdInput = document.getElementById('userId');
      elSubDomainInput = document.getElementById('subDomain');
      elapiUrlInput = document.getElementById('apiUrl');

      window.location.search = ('&USERID=' + elUserIdInput.value + '&SUBDOMAIN=' + elSubDomainInput.value + '&APIURL=' + elapiUrlInput.value);
    }

  </script>
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com/en/technologies/cloud-computing/openshift" target="_blank"><img
          src="../../../_/img/Logo-Red_Hat-OpenShift_4-A-Reverse-RGB.png" height="40px" alt="Red Hat OpenShift"></a>
      <a class="navbar-item" href="../../.." style="color: white;"><h3>Summit 2023 - GitOps Workshop Guide</h3></a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>

    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item" id="navbar-form-empty">
          <span class="navbar-text" style="margin-left: 1rem;">Your Workshop Environment</span>
          <span class="navbar-text" style="margin-left: 1rem; margin-right: 1rem;">&nbsp;<i style="color: orange;"
              class="fa fa-exclamation-triangle" aria-hidden="true"></i></span>

          <form action="javascript:void(0);" onsubmit="goWithUserId();">
            <div class="navbar-item" id="navbar-form-project-filled" style="display: none;">
              <span class="navbar-text" style="margin-left: 1rem; margin-right: 1rem;">|</span>
            </div>
            <input size="40" id="userId" type="text" placeholder="Enter GitHub Org/Username">
            <input type="hidden" id="subDomain" name="subDomain" value="">
            <input type="hidden" id="apiUrl" name="apiUrl" value="">
          </form>
        </div>

        <div class="navbar-item" id="navbar-form-filled" style="display: none;">
          <span class="navbar-text" style="margin-left: 1rem;">Your Workshop Environment</span>
          <span class="navbar-text" style="margin-left: 1rem; margin-right: 1rem;">|</span>
          <span class="navbar-text" id="username"></span>
          <span class="navbar-text" style="margin-left: 1rem; margin-right: 1rem;">&nbsp;<i onclick="recycle();" style="color: green;" class="fa fa-recycle" aria-hidden="true"></i></span>
        </div>

    </div>
  </nav>
</header><div class="body">
<div class="nav-container" data-component="summit-2023-gitops-workshop-guide" data-version="main">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../m1-overview/intro.html" class=" query-params-link">Summit 2023 - GitOps Workshop Guide</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Module One: Overview &amp; Setup</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../m1-overview/intro.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../m1-overview/setup.html">Setup</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Module Two:  GitOps First Steps</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../m2-argocd-introduction/accessing-argocd.html">Accessing the Cluster GitOps Dashboard</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../m2-argocd-introduction/first-steps-with-argocd.html">First Steps with GitOps using Argo CD</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../m2-argocd-introduction/self-healing.html">Argo CD Self-Healing Capabilities</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Module Three: Managing Namespaces &amp; RBAC</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../m3-managing-namespaces/kustomize.html">Using Kustomize for Templating YAML</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../m3-managing-namespaces/create-applications-using-kubectl.html">Create Applications using the CLI</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../m3-managing-namespaces/granting-service-account-permission.html">Argo CD Service Account Permissions</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../m3-managing-namespaces/rbac-for-namespaces.html">RBAC for Namespaces</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Module Four: Argo CD Projects &amp; App of Apps</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../m4-argocd-projects/rbac-demo.html">Exploring Projects &amp; RBAC</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../m4-argocd-projects/app-of-apps.html">The App of Apps</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../m4-argocd-projects/verify-rbac.html">Verify &amp; Understand your Work</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Module Five: Continuous Delivery of an Application</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="deploy.html">Setup</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="ci.html">Continuous Integration</a>
  </li>
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="cd.html">Continuous Delivery</a>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Summit 2023 - GitOps Workshop Guide</span>
    <span class="version">main</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <span class="title">Summit 2023 - GitOps Workshop Guide</span>
      <ul class="versions">
        <li class="version is-current">
          <a href="../m1-overview/intro.html">main</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../m1-overview/intro.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../m1-overview/intro.html">Summit 2023 - GitOps Workshop Guide</a></li>
    <li>Module Five: Continuous Delivery of an Application</li>
    <li><a href="cd.html">Continuous Delivery</a></li>
  </ul>
</nav>
  <div class="edit-this-page"><a href="https://github.com/redhat-scholars/summit-2023-gitops-lab-guide/edit/main/docs/modules/m5-ci-cd/pages/cd.adoc">Edit this Page</a></div>
  </div>
  <div class="content">
<article class="doc">
<h1 class="page">Observing the Continuous Deployment (CD) Process</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Your pull request should be ready to merge. After merging the pull request, Argo CD will notice the changes within 3 minutes (default polling interval), and apply the new ConfigMap to your <code>project-foo</code> Namespace.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>It&#8217;s possible to <a href="https://argo-cd.readthedocs.io/en/stable/operator-manual/webhook/">configure a webhook</a> that immediately notifies Argo CD when new changes are merged into the Git repository. This is outside of the scope of this workshop.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To merge your pull request:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open your pull request in GitHub.</p>
</li>
<li>
<p>Scroll down and click on the <strong>Merge pull request</strong> button.</p>
</li>
<li>
<p>Verify the title and commit message are to your liking, then click <strong>Confirm merge</strong>.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Once the pull request has been merged, take a look in the Argo CD dashboard. The new commit that you merged will show up within 3 minutes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>You can use the <strong>Refresh</strong> button in Argo CD to force it to check the Git repository for changes, if you don&#8217;t want to wait. If you set the sync configuration to "Automated", then as soon as the refresh completes it will trigger a sync for the new changes.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/ex8.argo-post-merge.png" alt="ex8.argo post merge"></span></p>
</div>
<div class="paragraph">
<p>Once your new commit has been synchronised by Argo CD, your meme can be displayed by visiting your application&#8217;s URL. Refresh the page a few times and your meme will eventually be shown, all with zero downtime or manual processes beyond approving a pull request!</p>
</div>
<div class="paragraph">
<p>You can further confirm that the new ConfigMap has been synchronised by:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Logging into the Argo CD dashboard.</p>
</li>
<li>
<p>Selecting the <strong>random-meme</strong> application.</p>
</li>
<li>
<p>Clicking on the <strong>images-json</strong> ConfigMap in the <strong>Application Details Tree</strong>.</p>
</li>
<li>
<p>Scrolling down in the overlay that appears and confirming your new image URL is listed in the <strong>Live Manifest</strong> YAML.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/ex8.argocd-live-manifest.png" alt="ex8.argocd live manifest"></span></p>
</div>
<div class="paragraph">
<p>You can also refresh the meme application in your web browser to confirm the new image is displayed. Note that the meme application reads the new images defined in the ConfigMpa once per minute, so be patient if your new meme isn&#8217;t displayed immediately.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_summary"><a class="anchor" href="#_summary"></a>Summary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Congratulations! You learned how to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use a Argo CD to deploy a containerised application.</p>
</li>
<li>
<p>Create and merge a pull request after CI checks have passed.</p>
</li>
<li>
<p>Verify that Argo CD has deployed your changes as part of your CI/CD pipeline by checking the live manifest.</p>
</li>
</ul>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="ci.html" class="query-params-link">Continuous Integration</a></span>
</nav>
</article>
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
  </div>
</main>
</div>
<script src="../../../_/js/vendor/clipboard.js"></script>
<script src="../../../_/js/site.js"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
